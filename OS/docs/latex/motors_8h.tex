\hypertarget{motors_8h}{}\section{inc/motors.h File Reference}
\label{motors_8h}\index{inc/motors.\+h@{inc/motors.\+h}}


Interface to two DC motors controlled by P\+WM. Allows differential driving.  


{\ttfamily \#include $<$stdint.\+h$>$}\\*
Include dependency graph for motors.\+h\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=151pt]{motors_8h__incl}
\end{center}
\end{figure}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{motors_8h_a5c0d48e46db133698dad2cbf5df21486}{Motors\+\_\+\+Init} (void)\hypertarget{motors_8h_a5c0d48e46db133698dad2cbf5df21486}{}\label{motors_8h_a5c0d48e46db133698dad2cbf5df21486}

\begin{DoxyCompactList}\small\item\em Initialize the robot motors. \end{DoxyCompactList}\item 
void \hyperlink{motors_8h_a1156160dc9b3c27db38c8c4b90c12caa}{Motors\+\_\+\+Set\+Torque} (int16\+\_\+t left\+\_\+trq, int16\+\_\+t right\+\_\+trq)
\begin{DoxyCompactList}\small\item\em Set the torque for each of the two motors atomically. \end{DoxyCompactList}\item 
void \hyperlink{motors_8h_aa71622b5e7e99d500b3f51066cea701c}{Motors\+\_\+\+Set\+Torque\+\_\+\+Left} (int16\+\_\+t left\+\_\+trq)
\begin{DoxyCompactList}\small\item\em Set the torque of the left motor individually. \end{DoxyCompactList}\item 
void \hyperlink{motors_8h_a5749c819b9d4d966fc5a6f7730b18850}{Motors\+\_\+\+Set\+Torque\+\_\+\+Right} (int16\+\_\+t right\+\_\+trq)
\begin{DoxyCompactList}\small\item\em Set the torque of the left motor individually. \end{DoxyCompactList}\item 
void \hyperlink{motors_8h_ac35a70f74e7097175bee3ad296713d33}{Motors\+\_\+\+Brake} (void)\hypertarget{motors_8h_ac35a70f74e7097175bee3ad296713d33}{}\label{motors_8h_ac35a70f74e7097175bee3ad296713d33}

\begin{DoxyCompactList}\small\item\em Brake both motors (tie both motors\textquotesingle{} leads to ground) \end{DoxyCompactList}\item 
void \hyperlink{motors_8h_a0ddfe47225418fa87ef927b7935ccb0a}{Motors\+\_\+\+Brake\+\_\+\+Left} (void)\hypertarget{motors_8h_a0ddfe47225418fa87ef927b7935ccb0a}{}\label{motors_8h_a0ddfe47225418fa87ef927b7935ccb0a}

\begin{DoxyCompactList}\small\item\em Brake left motor (tie motor leads to ground) \end{DoxyCompactList}\item 
void \hyperlink{motors_8h_a04d533dd786973adc8c59ea77a96c111}{Motors\+\_\+\+Brake\+\_\+\+Right} (void)\hypertarget{motors_8h_a04d533dd786973adc8c59ea77a96c111}{}\label{motors_8h_a04d533dd786973adc8c59ea77a96c111}

\begin{DoxyCompactList}\small\item\em Brake right motor (tie motor leads to ground) \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Interface to two DC motors controlled by P\+WM. Allows differential driving. 

\begin{DoxyAuthor}{Author}
Riley Wood (\href{mailto:riley.wood@utexas.edu}{\tt riley.\+wood@utexas.\+edu})
\end{DoxyAuthor}
This library makes use of P\+WM module 0, outputs 0 and 3. These are produced by P\+WM module 0\textquotesingle{}s generators numbered 0 and 1.

Conventions\+:
\begin{DoxyItemize}
\item Definition of \char`\"{}left\char`\"{} versus \char`\"{}right\char`\"{}\+:
\begin{DoxyItemize}
\item The \char`\"{}left motor\char`\"{} is the motor on your left when the robot is on the ground with the servo pointed away from you.
\item The \char`\"{}right motor\char`\"{} is the motor on your right when the robot is on the ground with the servo pointed away from you.
\end{DoxyItemize}
\item How to connect motors to motor board\+:
\begin{DoxyItemize}
\item The left motor must be connected to motor port A.
\item The right motor must be connected to motor port B.
\end{DoxyItemize}
\item Motor pin assignments\+:
\begin{DoxyItemize}
\item The red wire of the left motor will be connected to A-\/ and is controlled by P\+B6
\item The black wire of the left motor will be connected to A+ and is controlled by P\+B7
\item The red wire of right motor will be connected to B-\/ and is controlled by P\+B4
\item The black wire of the right motor will be connected to B+ and is controlled by P\+B5
\end{DoxyItemize}
\item Pin configurations\+:
\begin{DoxyItemize}
\item A-\/ (P\+B6) and B+ (P\+B5) will be configured as P\+WM outputs
\item A+ (P\+B7) and B-\/ (P\+B4) will be configured as digital outputs.
\item We alternate + and -\/ so that when both motors are driving forward (i.\+e. they are rotating O\+P\+P\+O\+S\+I\+TE directions) with the same torque, their digital and P\+WM output configurations will be identical.
\end{DoxyItemize}
\item H-\/\+Bridge convention\+:
\begin{DoxyItemize}
\item A value of 1 (high) on any of P\+B4/5/6/7 will connect the corresponding motor terminal (A/\+B/+/-\/) to battery power.
\item A value of 0 (low) on any of P\+B4/5/6/7 will connect the corresponding motor terminal (A/\+B/+/-\/) to ground.
\end{DoxyItemize}
\end{DoxyItemize}

\begin{DoxyCopyright}{Copyright}
Copyright (c) 2019 
\end{DoxyCopyright}


\subsection{Function Documentation}
\index{motors.\+h@{motors.\+h}!Motors\+\_\+\+Set\+Torque@{Motors\+\_\+\+Set\+Torque}}
\index{Motors\+\_\+\+Set\+Torque@{Motors\+\_\+\+Set\+Torque}!motors.\+h@{motors.\+h}}
\subsubsection[{\texorpdfstring{Motors\+\_\+\+Set\+Torque(int16\+\_\+t left\+\_\+trq, int16\+\_\+t right\+\_\+trq)}{Motors_SetTorque(int16_t left_trq, int16_t right_trq)}}]{\setlength{\rightskip}{0pt plus 5cm}void Motors\+\_\+\+Set\+Torque (
\begin{DoxyParamCaption}
\item[{int16\+\_\+t}]{left\+\_\+trq, }
\item[{int16\+\_\+t}]{right\+\_\+trq}
\end{DoxyParamCaption}
)}\hypertarget{motors_8h_a1156160dc9b3c27db38c8c4b90c12caa}{}\label{motors_8h_a1156160dc9b3c27db38c8c4b90c12caa}


Set the torque for each of the two motors atomically. 


\begin{DoxyParams}{Parameters}
{\em left\+\_\+trq} & Torque for left motor. Between -\/1000 and 1000. Positive argument indicates forward motion of robot, negative indicates backward. Zero indicates no rotation. \\
\hline
{\em right\+\_\+trq} & Torque for right motor. Between -\/1000 and 1000. Positive argument indicates forward motion of robot, negative indicates backward. Zero indicates no rotation. \\
\hline
\end{DoxyParams}
\index{motors.\+h@{motors.\+h}!Motors\+\_\+\+Set\+Torque\+\_\+\+Left@{Motors\+\_\+\+Set\+Torque\+\_\+\+Left}}
\index{Motors\+\_\+\+Set\+Torque\+\_\+\+Left@{Motors\+\_\+\+Set\+Torque\+\_\+\+Left}!motors.\+h@{motors.\+h}}
\subsubsection[{\texorpdfstring{Motors\+\_\+\+Set\+Torque\+\_\+\+Left(int16\+\_\+t left\+\_\+trq)}{Motors_SetTorque_Left(int16_t left_trq)}}]{\setlength{\rightskip}{0pt plus 5cm}void Motors\+\_\+\+Set\+Torque\+\_\+\+Left (
\begin{DoxyParamCaption}
\item[{int16\+\_\+t}]{left\+\_\+trq}
\end{DoxyParamCaption}
)}\hypertarget{motors_8h_aa71622b5e7e99d500b3f51066cea701c}{}\label{motors_8h_aa71622b5e7e99d500b3f51066cea701c}


Set the torque of the left motor individually. 


\begin{DoxyParams}{Parameters}
{\em left\+\_\+trq} & Torque for left motor. Between -\/1000 and 1000. Positive argument indicates forward motion of robot, negative indicates backward. Zero indicates no rotation. \\
\hline
\end{DoxyParams}
\index{motors.\+h@{motors.\+h}!Motors\+\_\+\+Set\+Torque\+\_\+\+Right@{Motors\+\_\+\+Set\+Torque\+\_\+\+Right}}
\index{Motors\+\_\+\+Set\+Torque\+\_\+\+Right@{Motors\+\_\+\+Set\+Torque\+\_\+\+Right}!motors.\+h@{motors.\+h}}
\subsubsection[{\texorpdfstring{Motors\+\_\+\+Set\+Torque\+\_\+\+Right(int16\+\_\+t right\+\_\+trq)}{Motors_SetTorque_Right(int16_t right_trq)}}]{\setlength{\rightskip}{0pt plus 5cm}void Motors\+\_\+\+Set\+Torque\+\_\+\+Right (
\begin{DoxyParamCaption}
\item[{int16\+\_\+t}]{right\+\_\+trq}
\end{DoxyParamCaption}
)}\hypertarget{motors_8h_a5749c819b9d4d966fc5a6f7730b18850}{}\label{motors_8h_a5749c819b9d4d966fc5a6f7730b18850}


Set the torque of the left motor individually. 


\begin{DoxyParams}{Parameters}
{\em right\+\_\+trq} & Torque for right motor. Between -\/1000 and 1000. Positive argument indicates forward motion of robot, negative indicates backward. Zero indicates no rotation. \\
\hline
\end{DoxyParams}
